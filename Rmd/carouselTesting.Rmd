
# test globe

```{js}

```


```{r}
require(htmltools)
require(reactR)
devtools::load_all(".")

carouselPage() |> 
  tagList(
    htmltools::includeScript("./inst/app/js/sidenavcontrol.js")
  ) |>
  app$update()
  # econWeb::browseTag2()
```

```{js}
currentCountry = 
$("#greetingGallery > .carousel-item.active")[0].ariaLabel
console.log(currentCountry)
```


```{r}
require(htmltools)
tag_carousel = function(){
  require(htmltools)
  tags$div(
    class="carousel",
    id="greetingGallery"
  )
}
econWeb::Dependency() -> dep
tag_carousel() |>
  tagList(
    dep$jquery$onCloud(),
    dep$materialise$onCloud(),
    # reactR::html_dependency_react(),
    htmltools::includeScript(
      "inst/app/js/formProcessing.js"
    )
  ) |>
  attachAppDependencies() |>
  save_html(
    "docs/carousel.html"
  )
  app$update()
```

## joinIcon

```{r}
update_joinIcon = function(){
  fig=econWeb::Fig()
  fig$export("inst/app/css/joinIcon")
}
tag_joinIcon <-function(){
 tags$div(class = "joinIcons",
 tags$div(class = "joinIcons-carousel",
   tags$div(class = "joinIcons-carousel-iconCarousel")),
 tags$div(class = "joinIcons-globe"))
}
joinIcon_dependency <- function(){
htmltools::htmlDependency(
  name="ntpuecon110graduate",
  version="1.0.0",
  src=c(file=system.file("/app/css",  package = "ntpuecon110graduate")),
  style="joinIcon.css",
  all_files = F
)}
ui_joinIcon <- function(dependency=NULL){
  tagList(tag_joinIcon(), joinIcon_dependency(), appImgDep(), dependency)
}
ui_joinIcon() |> econWeb::browseTag2()
```

```{js}
$("#switchGlobe").click(function(){
  console.log("switch")
  $("#globeplace").toggleClass("back");
})

```

```{r}
floating_control = function(){
  tagList(
tags$style('

'),
tags$div(class = "fixed-action-btn",
 tags$a(class = "btn-floating btn-large red",
   tags$i(class = "large material-icons",
     "settings")),
 tags$ul(tags$li(btn_globe_carousel_switch())))) -> tag_element

tag_element |> attachDependencies(
  list(jqueryDep(), materialiseDep(), googleDep())
) |> 
  tagList(
    tags$script("document.addEventListener('DOMContentLoaded', function() {
    var elems = document.querySelectorAll('.fixed-action-btn');
    var instances = M.FloatingActionButton.init(elems);
  });
")
  )
}
```

